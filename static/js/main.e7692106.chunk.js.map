{"version":3,"sources":["components/FaceRecognition/FaceRecognition.js","components/Logo/Logo.js","components/Logo/brain.png","components/ImageLinkForm/ImageLinkForm.js","App.js","index.js"],"names":["FaceRecognition","imageUrl","box","className","id","alt","src","width","height","style","top","topRow","right","rightCol","bottom","bottomRow","left","leftCol","Logo","options","max","scale","speed","ImageLinkForm","onInputChange","onButtonSubmit","type","onChange","onClick","App","loadUser","data","setState","user","name","email","entries","joined","calculateFaceLocation","clarifaiFace","outputs","regions","region_info","bounding_box","image","document","getElementById","Number","left_col","top_row","right_col","bottom_row","displayFaceBox","event","input","target","value","state","fetch","IMAGE_URL","method","headers","Accept","Authorization","body","JSON","stringify","user_app_id","user_id","app_id","inputs","url","returnClarifaiRequestOptions","then","response","json","console","log","count","Object","assign","catch","err","onRouteChange","route","isSignedIn","this","Component","ReactDOM","createRoot","render"],"mappings":"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","file":"static/js/main.e7692106.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./FaceRecognition.css\";\n\nconst FaceRecognition = ({ imageUrl, box }) => {\n  return (\n    <div className=\"center ma\">\n      <div className=\"absolute mt2\">\n        <img\n          id=\"inputimage\"\n          alt=\"\"\n          src={imageUrl}\n          width=\"500px\"\n          height=\"auto\"\n        />\n        <div\n          className=\"bounding-box\"\n          style={{\n            top: box.topRow,\n            right: box.rightCol,\n            bottom: box.bottomRow,\n            left: box.leftCol,\n          }}\n        ></div>\n      </div>\n    </div>\n  );\n};\n\nexport default FaceRecognition;\n","import React from \"react\";\nimport Tilt from \"react-tilt\";\nimport brain from \"./brain.png\";\nimport \"./Logo.css\";\n\nconst Logo = () => {\n  return (\n    <div className=\"center\">\n      <Tilt\n        className=\"Tilt br2\"\n        options={{ max: 50, scale: 1, speed: 300 }}\n        style={{ height: 150, width: 150 }}\n      >\n        <div className=\"Tilt-inner pa3\">\n          <img className=\"brain-image\" src={brain} alt=\"logo\" />\n        </div>\n      </Tilt>\n    </div>\n  );\n};\n\nexport default Logo;\n","export default \"data:image/png;base64,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\"","import React from \"react\";\nimport Logo from \"../Logo/Logo\";\n\nimport \"./ImageLinkForm.css\";\n\nconst ImageLinkForm = ({ onInputChange, onButtonSubmit }) => {\n  return (\n    <div>\n      <h1 className=\"title\">{\"SmartBrain\"}</h1>\n      <Logo />\n      <h3 className=\"caption\">\n        Enter an image url with face(s), and magic brain will detect them\n      </h3>\n      <div className=\"center\">\n        <div className=\"form center pa4 br3 shadow-5\">\n          <input\n            className=\"f4 pa2 w-70 center\"\n            type=\"text\"\n            onChange={onInputChange}\n          />\n          <button\n            className=\"w-30 grow f4 link ph3 pv2 dib white bg-light-purple\"\n            onClick={onButtonSubmit}\n          >\n            Detect\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ImageLinkForm;\n","import React, { Component } from \"react\";\n// import Clarifai from \"clarifai\";\n// import SignIn from \"./components/SignIn/SignIn\";\n// import Register from \"./components/Register/Register\";\nimport FaceRecognition from \"./components/FaceRecognition/FaceRecognition\";\n// import Navigation from \"./components/Navigation/Navigation\";\n// import Logo from \"./components/Logo/Logo\";\nimport ImageLinkForm from \"./components/ImageLinkForm/ImageLinkForm\";\n// import Rank from \"./components/Rank/Rank\";\nimport \"./App.css\";\n\n// const app = new Clarifai.App({\n//   apiKey: \"cae7346fc0924a30b255e5debc863342\",\n// });\n\nconst returnClarifaiRequestOptions = (imageUrl) => {\n  // Your PAT (Personal Access Token) can be found in the portal under Authentification\n  const PAT = \"973ad1547d9b43ba8bac16e80a72fa26\";\n  // Specify the correct user_id/app_id pairings\n  // Since you're making inferences outside your app's scope\n  const USER_ID = \"guwswr1yxk7z\";\n  const APP_ID = \"face-identification\";\n  // Change these to whatever model and image URL you want to use\n  const MODEL_ID = \"face-detection\";\n  const IMAGE_URL = imageUrl;\n\n  const raw = JSON.stringify({\n    user_app_id: {\n      user_id: USER_ID,\n      app_id: APP_ID,\n    },\n    inputs: [\n      {\n        data: {\n          image: {\n            url: IMAGE_URL,\n          },\n        },\n      },\n    ],\n  });\n\n  const requestOptions = {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      Authorization: \"Key \" + PAT,\n    },\n    body: raw,\n  };\n\n  return requestOptions;\n};\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      input: \"\",\n      imageUrl: \"\",\n      box: {},\n      route: \"signin\",\n      isSignedIn: false,\n      user: {\n        id: \"\",\n        name: \"\",\n        email: \"\",\n        entries: 0,\n        joined: \"\",\n      },\n    };\n  }\n\n  loadUser = (data) => {\n    this.setState({\n      user: {\n        id: data.id,\n        name: data.name,\n        email: data.email,\n        entries: data.entries,\n        joined: data.joined,\n      },\n    });\n  };\n\n  calculateFaceLocation = (data) => {\n    const clarifaiFace =\n      data.outputs[0].data.regions[0].region_info.bounding_box;\n    const image = document.getElementById(\"inputimage\");\n    const width = Number(image.width);\n    const height = Number(image.height);\n    return {\n      leftCol: clarifaiFace.left_col * width,\n      topRow: clarifaiFace.top_row * height,\n      rightCol: width - clarifaiFace.right_col * width,\n      bottomRow: height - clarifaiFace.bottom_row * height,\n    };\n  };\n\n  displayFaceBox = (box) => {\n    this.setState({ box: box });\n  };\n\n  onInputChange = (event) => {\n    this.setState({ input: event.target.value });\n  };\n\n  onButtonSubmit = () => {\n    this.setState({ imageUrl: this.state.input });\n    // app.models\n    //   .predict(\"face-detection\", this.state.input)\n    fetch(\n      \"https://api.clarifai.com/v2/models/\" + \"face-detection\" + \"/outputs\",\n      returnClarifaiRequestOptions(this.state.input)\n    )\n      .then((response) => response.json())\n      .then((response) => {\n        console.log(\"hi\", response);\n        if (response) {\n          fetch(\"http://localhost:3000/image\", {\n            method: \"put\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({\n              id: this.state.user.id,\n            }),\n          })\n            .then((response) => response.json())\n            .then((count) => {\n              this.setState(Object.assign(this.state.user, { entries: count }));\n            });\n        }\n        this.displayFaceBox(this.calculateFaceLocation(response));\n      })\n      .catch((err) => console.log(err));\n  };\n\n  onRouteChange = (route) => {\n    if (route === \"signout\") {\n      this.setState({ isSignedIn: false });\n    } else if (route === \"home\") {\n      this.setState({ isSignedIn: true });\n    }\n    this.setState({ route: route });\n  };\n\n  render() {\n    const { isSignedIn, imageUrl, route, box } = this.state;\n    return (\n      <div className=\"App\">\n        {/* <Logo /> */}\n        {/* <Rank name={this.state.user.name} entries={this.state.user.entries} /> */}\n        <ImageLinkForm\n          onInputChange={this.onInputChange}\n          onButtonSubmit={this.onButtonSubmit}\n        />\n        <br />\n        <FaceRecognition box={box} imageUrl={imageUrl} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nimport \"tachyons\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(<App />);\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}